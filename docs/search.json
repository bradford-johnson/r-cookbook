[
  {
    "objectID": "collecting-data.html",
    "href": "collecting-data.html",
    "title": "",
    "section": "",
    "text": "The first step to any data analytics project is collecting data. This step may not be always necessary as in many cases the data has already been collected. For example in my current role we get daily analytics emails each morning that contain the data from the previous day. So if this data is relevant and all we need for our analysis we can skip collecting the data.\nBut what if we wanted to gain different insights that require new data? Then we would need to collect new data. Depending on what I was doing I could add more data to the current data I have, or create a new set of data all together.\nThe way we collect data varies from using a pencil and notepad, to an automated process that saves every entry in the cloud. One way I have used R to collect data is by web scraping. Using the rvest package can allow you to collect data from the internet with minimal effort (avoid the constant copy/pasting and frustration).\nBelow I will show a simple script using the rvest package and tidyverse package that can scrape us some data from Steam’s game stats page. Steam is a video game distribution service, and we will scrape a couple columns from their live ‘Top games by current player count’ table.\n\n# load packages\nlibrary(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.1.3\n\n\n-- Attaching packages --------------------------------------- tidyverse 1.3.2 --\nv ggplot2 3.3.6     v purrr   0.3.4\nv tibble  3.1.8     v dplyr   1.0.9\nv tidyr   1.2.0     v stringr 1.4.1\nv readr   2.1.2     v forcats 0.5.2\n\n\nWarning: package 'ggplot2' was built under R version 4.1.3\n\n\nWarning: package 'tibble' was built under R version 4.1.3\n\n\nWarning: package 'tidyr' was built under R version 4.1.3\n\n\nWarning: package 'readr' was built under R version 4.1.3\n\n\nWarning: package 'dplyr' was built under R version 4.1.3\n\n\nWarning: package 'stringr' was built under R version 4.1.3\n\n\nWarning: package 'forcats' was built under R version 4.1.3\n\n\n-- Conflicts ------------------------------------------ tidyverse_conflicts() --\nx dplyr::filter() masks stats::filter()\nx dplyr::lag()    masks stats::lag()\n\nlibrary(rvest)\n\nWarning: package 'rvest' was built under R version 4.1.3\n\n\n\nAttaching package: 'rvest'\n\nThe following object is masked from 'package:readr':\n\n    guess_encoding\n\nlibrary(lubridate)\n\n\nAttaching package: 'lubridate'\n\nThe following objects are masked from 'package:base':\n\n    date, intersect, setdiff, union\n\n# link to get data from\nlink = \"https://store.steampowered.com/stats/\" \n\n# read webpage at the above link\npage = read_html(link) \n\n# scrape top 100 games by current players\ngame = page %>% html_nodes(\".gameLink\") %>% html_text()  \n\n# scrape number of players for each game \ncurrent_players = page %>% html_nodes(\"td:nth-child(1) .currentServers\") %>% html_text() \n\n# put both game and player data into a data frame\ndf = data.frame(game, current_players) \n\n# get current date\ncurrent_date <- as_datetime(Sys.Date())\n\n# create timestamp for when code is run\ncurrent_time <- timestamp()\n\n##------ Sat Aug 27 14:14:46 2022 ------##\n\n# update data fram with mutated columns that add current_date and current_time\ndf <- df %>% \n  mutate(date = current_date) %>%\n  mutate(time = current_time)\n\n# lets see our data we got\ndf\n\n                                           game current_players       date\n1              Counter-Strike: Global Offensive         725,188 2022-08-27\n2                                        Dota 2         645,169 2022-08-27\n3                                      Lost Ark         252,565 2022-08-27\n4                                  Apex Legends         226,470 2022-08-27\n5                           PUBG: BATTLEGROUNDS         191,545 2022-08-27\n6                                     Destiny 2         150,022 2022-08-27\n7                            Grand Theft Auto V         128,665 2022-08-27\n8                               Team Fortress 2         107,009 2022-08-27\n9                                          Rust         102,562 2022-08-27\n10                     Total War: WARHAMMER III          98,872 2022-08-27\n11                                Path of Exile          72,771 2022-08-27\n12                                      FIFA 22          72,128 2022-08-27\n13                        ARK: Survival Evolved          63,593 2022-08-27\n14                        Football Manager 2022          62,205 2022-08-27\n15                             Wallpaper Engine          54,873 2022-08-27\n16                                  War Thunder          54,755 2022-08-27\n17                     FINAL FANTASY XIV Online          47,495 2022-08-27\n18                           NARAKA: BLADEPOINT          43,680 2022-08-27\n19                  Sid Meier's Civilization VI          43,302 2022-08-27\n20                                  Garry's Mod          40,951 2022-08-27\n21                            Hearts of Iron IV          39,945 2022-08-27\n22               Tom Clancy's Rainbow Six Siege          39,845 2022-08-27\n23                                         MIR4          39,797 2022-08-27\n24                                     Warframe          39,509 2022-08-27\n25                                         DayZ          39,103 2022-08-27\n26                             Dead by Daylight          38,720 2022-08-27\n27                                   ELDEN RING          37,368 2022-08-27\n28                      SUPER PEOPLE FINAL BETA          34,890 2022-08-27\n29                               Stardew Valley          34,162 2022-08-27\n30                                     Terraria          32,250 2022-08-27\n31                          MONSTER HUNTER RISE          32,245 2022-08-27\n32                                     PAYDAY 2          31,388 2022-08-27\n33  The Elder Scrolls V: Skyrim Special Edition          30,946 2022-08-27\n34                                7 Days to Die          30,673 2022-08-27\n35                                Rocket League          29,756 2022-08-27\n36                       Euro Truck Simulator 2          29,756 2022-08-27\n37                                 Stumble Guys          29,717 2022-08-27\n38                              Project Zomboid          27,571 2022-08-27\n39                                   tModLoader          27,564 2022-08-27\n40                         Farming Simulator 22          27,554 2022-08-27\n41                                     Spacewar          27,306 2022-08-27\n42                         World of Tanks Blitz          26,480 2022-08-27\n43                                     Unturned          25,732 2022-08-27\n44                                  MultiVersus          25,434 2022-08-27\n45                                    Fallout 4          23,477 2022-08-27\n46                                     RimWorld          22,991 2022-08-27\n47                            Age of Empires IV          22,845 2022-08-27\n48                                       VRChat          22,630 2022-08-27\n49               Marvel’s Spider-Man Remastered          21,568 2022-08-27\n50                        Europa Universalis IV          21,452 2022-08-27\n51                                    New World          21,379 2022-08-27\n52                     The Elder Scrolls Online          20,946 2022-08-27\n53                   Sid Meier's Civilization V          20,829 2022-08-27\n54                               Hunt: Showdown          20,707 2022-08-27\n55                                Left 4 Dead 2          20,097 2022-08-27\n56                 Mount & Blade II: Bannerlord          19,800 2022-08-27\n57                                         Raft          19,076 2022-08-27\n58                                  The Sims\\231 4          19,041 2022-08-27\n59                                      Valheim          18,712 2022-08-27\n60                             Cities: Skylines          18,354 2022-08-27\n61                The Binding of Isaac: Rebirth          18,180 2022-08-27\n62                                       Arma 3          17,684 2022-08-27\n63                                        SMITE          17,586 2022-08-27\n64        Age of Empires II: Definitive Edition          17,484 2022-08-27\n65                           Crusader Kings III          16,969 2022-08-27\n66                        Don't Starve Together          16,771 2022-08-27\n67                                  Bloons TD 6          16,719 2022-08-27\n68                        Red Dead Redemption 2          16,624 2022-08-27\n69                                 Black Desert          16,422 2022-08-27\n70                       Yu-Gi-Oh!  Master Duel          16,388 2022-08-27\n71                               Sea of Thieves          16,125 2022-08-27\n72                             Cult of the Lamb          16,047 2022-08-27\n73                     The Witcher 3: Wild Hunt          15,893 2022-08-27\n74                                 Phasmophobia          15,858 2022-08-27\n75                                     Factorio          15,653 2022-08-27\n76                            Farthest Frontier          15,574 2022-08-27\n77                                   Brawlhalla          15,247 2022-08-27\n78                                     Soundpad          15,111 2022-08-27\n79                                    Stellaris          14,415 2022-08-27\n80                                 No Man's Sky          13,555 2022-08-27\n81                                Geometry Dash          12,928 2022-08-27\n82                        Monster Hunter: World          12,864 2022-08-27\n83                                 Dread Hunger          12,698 2022-08-27\n84                                     NBA 2K22          12,401 2022-08-27\n85                                 Satisfactory          12,363 2022-08-27\n86                                    Fall Guys          12,306 2022-08-27\n87                               Counter-Strike          12,286 2022-08-27\n88                               Cyberpunk 2077          12,102 2022-08-27\n89                    SD GUNDAM BATTLE ALLIANCE          11,986 2022-08-27\n90                           Across the Obelisk          11,681 2022-08-27\n91                      Total War: WARHAMMER II          11,336 2022-08-27\n92                            Vampire Survivors          11,278 2022-08-27\n93                                 BeamNG.drive          10,713 2022-08-27\n94                               Cookie Clicker          10,660 2022-08-27\n95                        Football Manager 2021          10,489 2022-08-27\n96                                 Conan Exiles          10,139 2022-08-27\n97                                   Fallout 76          10,006 2022-08-27\n98                                   The Forest           9,901 2022-08-27\n99                                Assetto Corsa           9,458 2022-08-27\n100                                       Squad           9,265 2022-08-27\n                                          time\n1   ##------ Sat Aug 27 14:14:46 2022 ------##\n2   ##------ Sat Aug 27 14:14:46 2022 ------##\n3   ##------ Sat Aug 27 14:14:46 2022 ------##\n4   ##------ Sat Aug 27 14:14:46 2022 ------##\n5   ##------ Sat Aug 27 14:14:46 2022 ------##\n6   ##------ Sat Aug 27 14:14:46 2022 ------##\n7   ##------ Sat Aug 27 14:14:46 2022 ------##\n8   ##------ Sat Aug 27 14:14:46 2022 ------##\n9   ##------ Sat Aug 27 14:14:46 2022 ------##\n10  ##------ Sat Aug 27 14:14:46 2022 ------##\n11  ##------ Sat Aug 27 14:14:46 2022 ------##\n12  ##------ Sat Aug 27 14:14:46 2022 ------##\n13  ##------ Sat Aug 27 14:14:46 2022 ------##\n14  ##------ Sat Aug 27 14:14:46 2022 ------##\n15  ##------ Sat Aug 27 14:14:46 2022 ------##\n16  ##------ Sat Aug 27 14:14:46 2022 ------##\n17  ##------ Sat Aug 27 14:14:46 2022 ------##\n18  ##------ Sat Aug 27 14:14:46 2022 ------##\n19  ##------ Sat Aug 27 14:14:46 2022 ------##\n20  ##------ Sat Aug 27 14:14:46 2022 ------##\n21  ##------ Sat Aug 27 14:14:46 2022 ------##\n22  ##------ Sat Aug 27 14:14:46 2022 ------##\n23  ##------ Sat Aug 27 14:14:46 2022 ------##\n24  ##------ Sat Aug 27 14:14:46 2022 ------##\n25  ##------ Sat Aug 27 14:14:46 2022 ------##\n26  ##------ Sat Aug 27 14:14:46 2022 ------##\n27  ##------ Sat Aug 27 14:14:46 2022 ------##\n28  ##------ Sat Aug 27 14:14:46 2022 ------##\n29  ##------ Sat Aug 27 14:14:46 2022 ------##\n30  ##------ Sat Aug 27 14:14:46 2022 ------##\n31  ##------ Sat Aug 27 14:14:46 2022 ------##\n32  ##------ Sat Aug 27 14:14:46 2022 ------##\n33  ##------ Sat Aug 27 14:14:46 2022 ------##\n34  ##------ Sat Aug 27 14:14:46 2022 ------##\n35  ##------ Sat Aug 27 14:14:46 2022 ------##\n36  ##------ Sat Aug 27 14:14:46 2022 ------##\n37  ##------ Sat Aug 27 14:14:46 2022 ------##\n38  ##------ Sat Aug 27 14:14:46 2022 ------##\n39  ##------ Sat Aug 27 14:14:46 2022 ------##\n40  ##------ Sat Aug 27 14:14:46 2022 ------##\n41  ##------ Sat Aug 27 14:14:46 2022 ------##\n42  ##------ Sat Aug 27 14:14:46 2022 ------##\n43  ##------ Sat Aug 27 14:14:46 2022 ------##\n44  ##------ Sat Aug 27 14:14:46 2022 ------##\n45  ##------ Sat Aug 27 14:14:46 2022 ------##\n46  ##------ Sat Aug 27 14:14:46 2022 ------##\n47  ##------ Sat Aug 27 14:14:46 2022 ------##\n48  ##------ Sat Aug 27 14:14:46 2022 ------##\n49  ##------ Sat Aug 27 14:14:46 2022 ------##\n50  ##------ Sat Aug 27 14:14:46 2022 ------##\n51  ##------ Sat Aug 27 14:14:46 2022 ------##\n52  ##------ Sat Aug 27 14:14:46 2022 ------##\n53  ##------ Sat Aug 27 14:14:46 2022 ------##\n54  ##------ Sat Aug 27 14:14:46 2022 ------##\n55  ##------ Sat Aug 27 14:14:46 2022 ------##\n56  ##------ Sat Aug 27 14:14:46 2022 ------##\n57  ##------ Sat Aug 27 14:14:46 2022 ------##\n58  ##------ Sat Aug 27 14:14:46 2022 ------##\n59  ##------ Sat Aug 27 14:14:46 2022 ------##\n60  ##------ Sat Aug 27 14:14:46 2022 ------##\n61  ##------ Sat Aug 27 14:14:46 2022 ------##\n62  ##------ Sat Aug 27 14:14:46 2022 ------##\n63  ##------ Sat Aug 27 14:14:46 2022 ------##\n64  ##------ Sat Aug 27 14:14:46 2022 ------##\n65  ##------ Sat Aug 27 14:14:46 2022 ------##\n66  ##------ Sat Aug 27 14:14:46 2022 ------##\n67  ##------ Sat Aug 27 14:14:46 2022 ------##\n68  ##------ Sat Aug 27 14:14:46 2022 ------##\n69  ##------ Sat Aug 27 14:14:46 2022 ------##\n70  ##------ Sat Aug 27 14:14:46 2022 ------##\n71  ##------ Sat Aug 27 14:14:46 2022 ------##\n72  ##------ Sat Aug 27 14:14:46 2022 ------##\n73  ##------ Sat Aug 27 14:14:46 2022 ------##\n74  ##------ Sat Aug 27 14:14:46 2022 ------##\n75  ##------ Sat Aug 27 14:14:46 2022 ------##\n76  ##------ Sat Aug 27 14:14:46 2022 ------##\n77  ##------ Sat Aug 27 14:14:46 2022 ------##\n78  ##------ Sat Aug 27 14:14:46 2022 ------##\n79  ##------ Sat Aug 27 14:14:46 2022 ------##\n80  ##------ Sat Aug 27 14:14:46 2022 ------##\n81  ##------ Sat Aug 27 14:14:46 2022 ------##\n82  ##------ Sat Aug 27 14:14:46 2022 ------##\n83  ##------ Sat Aug 27 14:14:46 2022 ------##\n84  ##------ Sat Aug 27 14:14:46 2022 ------##\n85  ##------ Sat Aug 27 14:14:46 2022 ------##\n86  ##------ Sat Aug 27 14:14:46 2022 ------##\n87  ##------ Sat Aug 27 14:14:46 2022 ------##\n88  ##------ Sat Aug 27 14:14:46 2022 ------##\n89  ##------ Sat Aug 27 14:14:46 2022 ------##\n90  ##------ Sat Aug 27 14:14:46 2022 ------##\n91  ##------ Sat Aug 27 14:14:46 2022 ------##\n92  ##------ Sat Aug 27 14:14:46 2022 ------##\n93  ##------ Sat Aug 27 14:14:46 2022 ------##\n94  ##------ Sat Aug 27 14:14:46 2022 ------##\n95  ##------ Sat Aug 27 14:14:46 2022 ------##\n96  ##------ Sat Aug 27 14:14:46 2022 ------##\n97  ##------ Sat Aug 27 14:14:46 2022 ------##\n98  ##------ Sat Aug 27 14:14:46 2022 ------##\n99  ##------ Sat Aug 27 14:14:46 2022 ------##\n100 ##------ Sat Aug 27 14:14:46 2022 ------##"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "",
    "section": "",
    "text": "This is a Quarto cookbook for R created by Bradford Johnson.\nTo learn more about Quarto books visit https://quarto.org/docs/books.\nThis Quarto book contains vignettes of R."
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "",
    "section": "",
    "text": "In summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2"
  }
]